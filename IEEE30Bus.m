function [busdata,linedata,GenRestric] = IEEE30Bus


%        IEEE 30-BUS TEST SYSTEM
%        Bus Bus  Voltage Angle     ---Load---- -------Generator------------Static Mvar
%        No  code Mag.    Degree    MW    Mvar     MW       Mvar    Qmin  Qmax  +Qc/-Ql
busdata=[1	  1	   1.06	     0	     0	     0	  260.2    -16.1	  0	   0	0
         2	  2	   1.043    -5.48   21.7    12.7   40	    50	    -40	  50	0
         3	  0	   1.021	-7.96	 2.4	 1.2	0	     0	      0	   0	0
         4	  0	   1.012	-9.62	 7.6	 1.6	0	     0	      0	   0	0
         5	  2	   1.01	   -14.37   94.2	19	    0	    37	    -40	  40	0
         6	  0	   1.01	   -11.34	 0	     0	    0	     0	      0	   0	0
         7	  0	   1.002   -13.12	22.8	10.9	0	     0	      0	   0	0
         8	  2	   1.01	   -12.1	30	    30	    0	    37.3	-10	  40	0
         9	  0	   1.051   -14.38	 0	     0	    0        0	      0	   0	0
        10	  0	   1.045   -15.97	 5.8	 2	    0	     0	      0	   0	0.19
        11	  2	   1.082	-14.39	 0	     0	    0	    16.2	 -6	  24    0
        12	  0	   1.057	-15.24	11.2	7.5	    0	     0	      0	   0	0
        13	  2	   1.071 	-15.24	 0	     0	    0	    10.6	 -6	  24    0
        14	  0	   1.042	-16.13	6.2	    1.6	    0	     0	      0	   0	0
        15	  0	   1.038	-16.22	8.2	    2.5	    0	     0	      0	   0	0
        16	  0	   1.045	-15.83	3.5	    1.8	    0	     0	      0	   0	0
        17	  0	   1.04	    -16.14	9	    5.8	    0	     0	      0	   0	0
        18	  0	   1.028	-16.82	3.2	    0.9	    0	     0	      0	   0	0
        19	  0	   1.026	-17	    9.5	    3.4	    0	     0	      0	   0	0
        20	  0	   1.03	    -16.8	2.2	    0.7	    0	     0	      0	   0	0
        21	  0	   1.033	-16.42	17.5	11.2	0	     0	      0	   0	0
        22	  0	   1.033	-16.41	0	    0	    0	     0	      0	   0	0
        23	  0	   1.027	-16.61	3.2	    1.6	    0	     0	      0	   0	0
        24	  0	   1.021	-16.78	8.7	    6.7	    0	     0	      0	   0	0.043
        25	  0	   1.017	-16.35	0	    0	    0	     0	      0	   0	0
        26	  0	   1	    -16.77	3.5	    2.3	    0	     0	      0	   0	0
        27	  0	   1.023	-15.82	0	    0	    0	     0	      0	   0	0
        28	  0	   1.007	-11.97	0	    0	    0	     0	      0	   0	0
        29	  0	   1.003	-17.06	2.4	    0.9	    0	     0	      0	   0	0
        30	  0	   0.992	-17.94	10.6	1.9	    0	     0	      0	   0	0];
    
    busdata(:,5:6)=busdata(:,5:6)*1;
    
%                                        Line code
%         Bus bus   R      X     1/2 B   = 1 for lines
%         nl  nr  p.u.   p.u.   p.u.     > 1 or < 1 tr. tap at bus nl
linedata=[1   2   0.0192   0.0575   0.02640    1
          1   3   0.0452   0.1852   0.02040    1
          2   4   0.0570   0.1737   0.01840    1
          3   4   0.0132   0.0379   0.00420    1
          2   5   0.0472   0.1983   0.02090    1
          2   6   0.0581   0.1763   0.01870    1
          4   6   0.0119   0.0414   0.00450    1
          5   7   0.0460   0.1160   0.01020    1
          6   7   0.0267   0.0820   0.00850    1
          6   8   0.0120   0.0420   0.00450    1
          6   9   0.0      0.2080   0.0    0.978
          6  10   0         .5560   0      0.969
          9  11   0         .2080   0          1
          9  10   0         .1100   0          1
          4  12   0         .2560   0      0.932
         12  13   0         .1400   0          1
         12  14    .1231    .2559   0          1
         12  15    .0662    .1304   0          1
         12  16    .0945    .1987   0          1
         14  15    .2210    .1997   0          1
         16  17    .0824    .1923   0          1
         15  18    .1073    .2185   0          1
         18  19    .0639    .1292   0          1
         19  20    .0340    .0680   0          1
         10  20    .0936    .2090   0          1
         10  17    .0324    .0845   0          1
         10  21    .0348    .0749   0          1
         10  22    .0727    .1499   0          1
         21  22    .0116    .0236   0          1
         15  23    .1000    .2020   0          1
         22  24    .1150    .1790   0          1
         23  24    .1320    .2700   0          1
         24  25    .1885    .3292   0          1
         25  26    .2544    .3800   0          1
         25  27    .1093    .2087   0          1
         28  27     0       .3960   0      0.968
         27  29    .2198    .4153   0          1
         27  30    .3202    .6027   0          1
         29  30    .2399    .4533   0          1
          8  28    .0636    .2000   0.0214     1
          6  28    .0169    .0599   0.065      1];
      
GenRestric=[1 2 3 4 5 6 7 8 9 11 13 28];  %Bus tidak boleh di tempati DG untuk 30 Bus
      
           %TLoss=loadflow(busdata,linedata,1);